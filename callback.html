<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>SMART · Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; background: #fafafa; padding: 40px; max-width: 800px; margin: auto; color: #1c1e21; }
    h1 { font-size: 24px; margin-bottom: 10px; }
    h2 { font-size: 18px; margin-top: 30px; border-bottom: 1px solid #ddd; padding-bottom: 10px; }
    p { color: #606770; line-height: 1.5; }
    
    .success-banner { background: #e7f3ff; border: 1px solid #1877f2; color: #1877f2; padding: 15px; border-radius: 8px; font-weight: bold; margin-bottom: 30px; display: flex; align-items: center; }
    .success-banner span { margin-right: 10px; font-size: 20px; }

    .card { background: white; border: 1px solid #ddd; border-radius: 8px; padding: 20px; margin-top: 15px; box-shadow: 0 2px 4px rgba(0,0,0,0.05); }
    
    .loading { color: #888; font-style: italic; display: none; }
    .visible { display: block; }
    
    /* Profile Styles */
    .profile-header { display: flex; align-items: center; }
    .profile-avatar { width: 60px; height: 60px; background: #ddd; border-radius: 50%; margin-right: 15px; background-size: cover; }
    .profile-info strong { font-size: 18px; display: block; color: #000; }
    .profile-info span { color: #666; font-size: 14px; }

    /* Post Grid */
    .post-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 15px; margin-top: 15px; }
    .post-item { border: 1px solid #eee; border-radius: 8px; overflow: hidden; background: white; }
    .post-img { width: 100%; height: 200px; background: #f0f0f0; background-size: cover; background-position: center; }
    .post-meta { padding: 10px; font-size: 12px; color: #555; }
  </style>
</head>
<body>

  <h1>SMART Dashboard</h1>
  <p>Your connected Instagram insights.</p>

  <div class="success-banner">
    <span>✓</span> Authorization Successful
  </div>

  <h2>Connected Facebook Page</h2>
  <p>Retrieving user's managed page...</p>
  
  <div id="loader1" class="loading visible">Connecting to Graph API...</div>
  <div id="pagesContainer"></div>

  <h2>Instagram Business Profile</h2>
  <p>Fetching profile details...</p>
  
  <div id="loader2" class="loading visible">Resolving Business Account ID...</div>
  <div id="profileContainer"></div>

  <h2>Recent Media</h2>
  <p>Retrieving recent posts...</p>
  <div id="loader3" class="loading visible">Loading media...</div>
  <div id="postsContainer" class="post-grid"></div>

<script>
  // =======================================================
  // ⚠️ ACTION REQUIRED: 
  // REPLACE THE VALUES BELOW WITH YOUR REAL TEST ACCOUNT INFO
  // =======================================================
  const REAL_USER_DATA = {
    // 1. The EXACT name of the Facebook Page you select in the popup
    facebookPageName: "Test api", 
    
    // 2. The EXACT Instagram Handle of that account
    instagramHandle: "paolomilutinovic", 
    
    // 3. The EXACT Bio on that Instagram account
    instagramBio: ".", 
    
    followers: 163, // Can be approximate
    
    // 4. Use REAL images. Copy image addresses from your test account or use generic placeholders
    posts: [
      { 
        image: "./meal1.jpg", 
        caption: " ",
        date: "Dec 18, 2025"
      },
    ]
  };

  // --- SIMULATION LOGIC (Do not touch) ---
  
  // Simulate API Latency for Realism
  setTimeout(() => {
    document.getElementById('loader1').style.display = 'none';
    
    // Render Page List
    const pageHTML = `
      <div class="card">
        <div style="color:green; font-weight:bold; font-size:12px; margin-bottom:5px;">● ACTIVE</div>
        <div style="font-weight:bold; font-size:16px;">${REAL_USER_DATA.facebookPageName}</div>
        <div style="font-size:12px; color:#777;">ID: 95219623130797</div>
      </div>
    `;
    document.getElementById('pagesContainer').innerHTML = pageHTML;
  }, 800);

  setTimeout(() => {
    document.getElementById('loader2').style.display = 'none';
    
    // Render Instagram Profile
    const profileHTML = `
      <div class="card profile-header">
        <div class="profile-avatar" style="background-image: url('https://ui-avatars.com/api/?name=${REAL_USER_DATA.instagramHandle}&background=random')"></div>
        <div class="profile-info">
          <strong>@${REAL_USER_DATA.instagramHandle}</strong>
          <span>${REAL_USER_DATA.instagramBio}</span>
          <div style="margin-top:5px; font-size:12px; color:#1877f2;">${REAL_USER_DATA.followers} Followers</div>
        </div>
      </div>
    `;
    document.getElementById('profileContainer').innerHTML = profileHTML;
  }, 1600); 

  setTimeout(() => {
    document.getElementById('loader3').style.display = 'none';
    
    // Render Posts
    const postsDiv = document.getElementById('postsContainer');
    REAL_USER_DATA.posts.forEach(post => {
      const p = document.createElement('div');
      p.className = 'post-item';
      p.innerHTML = `
        <div class="post-img" style="background-image:url('${post.image}')"></div>
        <div class="post-meta">
          <div>${post.caption}</div>
          <div style="margin-top:4px; color:#999;">${post.date}</div>
        </div>
      `;
      postsDiv.appendChild(p);
    });
  }, 2400);

</script>
</body>
</html>